version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: b6c170.l5qi9csej3r91mpm
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEFXUlRJZEpsUkpUNE1jMERFSEpjYk5NQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5URXdNalV4TmpBd05UQmFGdzB6TlRFd01qTXhOakF3TlRCYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBK1F6aXdtT0w2MXlMS2hkRDJJaGZoK0Vob1JjNTc1WU9vbEtICmtYdlpGWjZqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVV2svYzRMWnRKVVIvY2g0dgorMmVvbGtNVjN0a3dCUVlESzJWd0EwRUE5RlYweklOcGNteFJ5b2RBWUlDR3NZYXVlOGxvMUpBaytNKzczdldxCmJxTWRLSHdzSGxHZVN2OXc4Y3BndlRXeEpseTRidnRpUmhYRkNSemZpTFcxQVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJRDlNZkprSDEzdnNwdUJ4SGlaOEZkQlhJZ21FYXNJd0ZaMjRtVy93QytqMQotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 127.0.0.1
    - 192.168.1.45
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.34.1
    extraConfig:
      serializeImagePulls: false
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: testhl04
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:ac:0a:05
        addresses:
          - 192.168.1.28/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.1.1
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.1.45
    nameservers:
      - 192.168.1.1
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.11.3
    wipe: false
  files:
    - content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
        [plugins."io.containerd.cri.v1.runtime"]
          device_ownership_from_security_context = true
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - 162.159.200.1
      - 162.159.200.123
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
    net.ipv4.neigh.default.gc_thresh1: "4096"
    net.ipv4.neigh.default.gc_thresh2: "8192"
    net.ipv4.neigh.default.gc_thresh3: "16384"
    user.max_user_namespaces: "11255"
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: _9TtjHrNRVWLo9JKqNM-rijoUKDfBNu_42xYuouUOQA=
  secret: GVjOGTo6T8DCuBgYw+l/WHtEnaO2tBzjXTEYSe8bJow=
  controlPlane:
    endpoint: https://192.168.1.45:6443
  clusterName: kubernetes
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: leg0ug.xhx7s4he0h7el9zs
  secretboxEncryptionSecret: IFeWTONJrkMi9QAbtRiWv+whOTbxE30hEdJhJlJ6JKg=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpakNDQVRDZ0F3SUJBZ0lSQUxnVUcwY1NZejBaelJrZDZSZHZENDR3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEV3TWpVeE5qQXdOVEJhRncwek5URXdNak14TmpBdwpOVEJhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVFSNEVqbzBFMG9mNlhNZkNUbVF3c0llSHRYeitSSDRyZ0JXTHZkRWdQeVU1c2J5Ykg4RUs4dUZBdjYKUlBMd083OEEyanZaVFVkRXlmQWpOcCtFWFlxbG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGT3BaRTlHLy95c1duYjRZbVVFVDFxSFo3d2ZtTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDNUFPNDkKMGJ4RWxFcFZnNERNQ3N5c1lpYlgvOWFyZnlPeFFQK3JJRmU0VEFJZ01HMDRvemFWYjMxdDM1enpod3Q0T2R5YQpqalF3ZUxtYTNxSy9jcjRWUHBJPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUF4UklHNnRIeFE5dW4xdXJsTmFGSHFNaGxmeVM0M3N4bHVERHU0aWNMMnZvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFRWVCSTZOQk5LSCtsekh3azVrTUxDSGg3Vjgva1IrSzRBVmk3M1JJRDhsT2JHOG14L0JDdgpMaFFMK2tUeThEdS9BTm83MlUxSFJNbndJemFmaEYyS3BRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZVENDQVFhZ0F3SUJBZ0lSQUlCNnJCVSt2emxtSlZ0bVZ4eXYwVUV3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5URXdNalV4TmpBd05UQmFGdzB6TlRFd01qTXhOakF3TlRCYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVN0akFBNXNCeXlwSDhPY1ErQmZQMWhkYjN6eERib1J4aWlrUHlPcXZTekN3WmIyU1duClU1eUZBOWF3STQ0K1QwMDF1WTVoSXEwL2pCUDFHR201RVRtS28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGS3BaZklhUXBWRFg2bGJJU01vcmJSU1NzSHZXTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDCklRRDRqVlZOTHRRV2pYME8zdHBwMUpuamdKMUVBS3BpZTlUMjByeUNlbWkyQ0FJaEFLZFdBM01pdzVYTE5vSUwKMmk0NVFBUGVWS0FqZ0ZRcU1EbjRYVlM1Ump0VAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUQrREM4WkpkRnFrS3JySXBjNSs3S2xtVEZnT01kNy9ZOFc3bjNmdlIwNk9vQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFcll3QU9iQWNzcVIvRG5FUGdYejlZWFc5ODhRMjZFY1lvcEQ4anFyMHN3c0dXOWtscDFPYwpoUVBXc0NPT1BrOU5OYm1PWVNLdFA0d1Q5UmhwdVJFNWlnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBNFhCNVk1SXFKSTY5NnRRRnA1UTEzdXd2VHpOUzhXWjR3RFpLSzllQ2hMUVFNUG5rCmJaQ1Q1eWhheFNYM3Q2M0dNbEs4MDFFUG1zWUxJRG9lMkZ4bE5QY3RKamRkT0luRm9VMUgvanoxaVpvWDV5Z1IKaTJkMVF0N0tMbHVsb1FBakFrQzY0ZEJvYmZhNCtBdFF2Rm5senAxMGM1c3drMElnQUdDRmhUWExHQnp1L2J4UgpWOGx4azRwRnI4a0VoMmhUY3E4Rk5YZ1F6SXhlQmYxODYxZVAwMTcyckRid3R5MVZja3p2WGIvaWtWK1k1M2wzCmFxQlN4V21ZblB0UmN5dmxyMHUybG5TN2JBaTRmVmMzZWdWc3JZd1plZENxOGZjOFJRa09aYVQzd1pxZlcreXoKVEt1RUxpbDYxdFRTTWI1aXlMY1UrMGVDbWNod082L1MzWCtyWUtieEV3RVo4RHlXN283Q2QyQTdwUHM4RzNKYgpTMUNlUWM3YzJQcXNQUFhzellKMmxYb3p4NThuMTU1Q29pTGs5dnhQdTAzbnI2L3VoOXJFVVNTU0d1NUR0Y3BkCjBIOEg3RWRzVDVIY0dkK3BCMnlBblltd2JzdVJTOVQ4NWtqbXJmdlNXSHRiWTE2UTNNTGdBK1ltdnAzdW5JMVgKQVNVRHJnYURsNE85UjlWMmVkN2R4QklicHhxOXVjMzJZVkIzMFprNFk0bGh6dktyVVkveFFhbjBVdjJ6K2JOWApNY0FSVm1waHJIb0NyTGNvdy9qQnVlZFlodFVHL1VYaHBTeVpMZ0s2MVJxekg2R2ptZ3djNlZmYno1ZW16WkVRClJLY3djRm5uUm0rcHh2NlRaTHc1OHYweUVvWHYwYmdoNEpZNVg4RHFHd0NnY2xrZEJYYmRodVpkOGQ4Q0F3RUEKQVFLQ0FnQlh5OGpLbVZybVA5MEF2aSt4a3N2a0ZGRmNZOTJTZTlqYzZvZTZTVVRnVDR2YXR3ZGFFQ3M1cEFLdApzdHFsWXZ6RURtclJWVWxoZW0xTTBMWEFoME0yL0doTjhOUFNOLzJLa3lGTmh3b00yOEVoV2Y1ekx3aUEwV2tsCjRyVS9YV0ZFK0ZhUHFPMXluZHB0WjJLNjU3dlMyb2xHbUpLelZ0WkZyMUZ3am9HWTAzUFR4MnBhYU81ZGlrVVgKYjQ3ZStTYytpNkRZc1BqQjRJeWhncFlLeFdBUzduSGNvY3pmV2Ixa05VZ25WNXB5Q1N2d1FlTGEyTE5EaEp0Vgp6NTVwM3hlbFREUkFwaGR6dkhXMUFxbHRVUDJCSFFXeTVpd2M3YTlBSjRXKzJoOU8rOXZDSGcyNTl6WVVFRDF4CnV4SmRJd3N2cGZWNjR0K2U2bXVqSXhkWkFlYUlrM2xHbVA3YVNvdXg2SXgrL0huNUJEVElpUHNCSUpiSlg1OFUKNUcveDNUNkxtaHlLZW1zVkcrNFJYV1BnUEJCS3hsL1grZFFYK0hrN0UwMlhsUDArNDBpZmNxRWZFa0o3NFpIego5cDdUZ0xxSEJpSEV0S2p6ZlZkbDNTNnhIdXNndnpQWkMwcWhVVEFGZnU5Y2lmZmVFZ3RVRDJvS0xQN2w3QlMzCno3azkwRE9xUXJtZlB0bkJDYS9qV3E3MjNLZEFLQlM0enZPSzdzQjFFbHNBa2xmL0VCUlZvbHV4aDc1TzJIbDMKMUJrc2o5N0ZYb3AwV3dLeEJiY2YvbStXaFNmNS9yWHZNT2hBS25yYStXbmwzSTltdGlyZ2JKbjlrWkQ0MlR1cwo4MGc3b2pJeXdWOFZoU2xUWDJvMG5NZVdYaFlUdHdFR0svb2FLbTZ4OUs1ZEtmVDVLUUtDQVFFQTdUeEJSSTlaCkNUK3VDaU5ZUndUVmtndTBNdGpJNXAxMUVrWm1zWTNUZndwMndwc2dYeCtnRm1GVTlNMUNnMExnSUpsZm9USmsKNGJlNkx0MjIwVXZYREFENlBvby9MVmhwNmsxNVE2MEYrUmQzdGNTWGlBZ0FKdm9tWWI0WUQ4Q1V6MW8rcTUvSAp3UXdxQW12eEFrWU0vY0JsQkJqbld4OTIxTHBUeWNrSHpWZWhQV25jV1NSNE9xbVpRR3FRRi9qUmxTVXV6SWVQCkViK0l5M250V2ZtcUtmTWxCKzduQjlIOCtBWVNnT0pnVExPcXo0blBnWk5QTnh5amVvaDJBY29Hc3BRUDhpemcKUnJKLzVIRGhrUHBCTlBxU2k4eG1UVEY1WUlNK3NYUjBQYTYxdG1nMkFoK1d6UzZIV0xqYVRFYkFiY2dXUDQ2SgorMEw3ZTdZN1cwRlNqUUtDQVFFQTgwVmRBei9pRDgzWUhKQ0ZyL1U2WHU0aTl3NTFsRnlFR0JhZDV0Q1RLR3lPClhzT0hrbHlscnYrbU9XM2F5MjM3ODE0SFo0b1lJekFKbmMvT0wzcUE1dTM2K1hYampYaElIamFBd3lyNVlxYkoKcHNkUEhMRlQxRkNwaUJvK0YvZHVhck5MNFhNTEpJQS9mdHVIdlFHNUNmUm02VUtvbG5uZ1oxU3g3R1V4eU5DMwpjbXdtOHEzZEd0MitRR1FTZ0RoLytqeVU0VkdXOHBINTA2NWdLaU8vdnM1bmlNek9LU045WGU3cFdLSW5DSEJ6CnNMQUp0NU55ZldmN1JrQ1NGbHBLWWJjSStVN1hFSEtSS1FSdSs1T3pCUnIvYjhMamo4aEdybzk0Rk5Fa2pOdkUKY1FOb24rTzFEb2I1ajAxajFWOW15enliVmt2S1ZMY3pTQkpYOTdKeEd3S0NBUUJPc0UvTjErWm1oUExMZGhIUAo3TENTY3NOZ29qdHhFd1ZEL0lvUGxzVnlQQnhNVEh3ZVVUVWVkMFpndEx5OUlTK0tZSlV4dUs5eGx5bHdaaVkvCm9mSkFqd3B5T0JUZ2k1VUdISkIrZkNPaERjR3RUdm9jS3RzeUVvTXNwSXNDbnBROWV1ZVNzYnJtTTR5enBPNGEKSFBZdUxPVFV5UlhrU2JsMnNoOGNyVXVqTnMvS3VSUlhsUnMwQ2hGRkpwT0pBQVUwZlZMYWtKUktCTWZ4Qmc1TwphOXVmY29EejhyQTdEZEhreXM3VVpVSWY3dkJYU3BURG5BTUllcjFXNVhDUEExM1pXZmM0RXQ2SlZLZkxOQTM5CnNxUnlXRExIb0JMR3hBUkltUC93aUhvT0E2ZE9TNTZ1Y1ovcGl1ZGw3RnFzTmtPWnBtYUt5bExHUHQ5L2wyQjAKMG1QNUFvSUJBUURHOWhQOGRHTVBTZXRXY1Z6bGJFc3hHTksvL0xOdGc3MEZkbm51TE9ndVI1cXBKb0hhMHFzdgpWU2MrRVByQkpsTEoyRDEyRVJ0c3EvMHhkS1BOY1FPNzJ5ZEluNEpjVWVPcDBpbTlkWWhCaHVlbDM1eDBleE4wCnNnUDFySURjV1NHVllzN010S3FJVDl1ZWhTMmZCNm11MnBUUWNoUXYvYjNxeFBvL3ZRUGFtZGx2VzhUKzlmTy8KNVZ1VWprUVRXaUpSSnZzY3pQNEhwaHdOWkxDQnhuc3NNdU82bnNaK0h1aUp5cnhPSVZDTE5tMW9OSkc5OG5uUQoxeHBMZXNRQVJCaFJrc0ZrSlhiL25MUGNPQ1FNM2Qrc2JVZzh2OGdkOEU3ZXRiZ2dUbXoyUjBlQ3BxY0xIZEVXCjhJMXJCb0NBSW1hUUVpRjVrc01JUmsxS3hMWHRmNlBCQW9JQkFDL3dKR2pKcXVaMDN5M09sYnJmQ1JxQzBhQloKUk1zU2o5QURSUFIzNWVVWjdENGM1KzRLTUVNaG9leG9mYlpNVlJnWkxYaUNSUHhweHZIbHltWENRUUpISmw3Qwp1QjdjS1FrZ20zTHZhMmtXT1dYRnQyMFgwLzQwbU5kZkhOSXZGTWpiekRGTlpwMW9yQlRsZ1JKSWxFTVpDYzNrCmRQclU5THZIcWV3RTRac1pJMmc5SGFsUVlLY1N4Um42dlU3Rlpqa3BFQ1RiZTRha09ENktWczdyQUZOYjlPQ0wKQ001STJMUVJhL2UrMXB6WG81L1JIZi9LTVlmdFFUbkpSYUxoZmtoWmpTK0RnQ3l4VGhLNTI2YnROV2tiY21OUQpOL1M2ZW44NWptUGUzQnhmeVMrR3htYVBrSHNPV0k2Nk5nQUNVejM0MmlRKzE3NzJMaXBoclY5M3dIdz0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.34.1
    extraArgs:
      enable-aggregator-routing: "true"
    certSANs:
      - 192.168.1.45
      - 127.0.0.1
      - 192.168.1.45
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.34.1
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.34.1
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.34.1
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmekNDQVNTZ0F3SUJBZ0lSQU1SeUJRODU4MzV2ZU5qeEhXY0hxVGt3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRFd01qVXhOakF3TlRCYUZ3MHpOVEV3TWpNeE5qQXdOVEJhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFUSmxSWVVhdElaCk5JOVRZUkZzYnFNUDM1MHg5ZHhvT09teWxrb0tGZEgydXVEdFk0TjlHYW9iRzlrSjFzNys2WTl1MWpGUkFiVDIKUXZ5Wi84ck5ZeDhrbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkt6NXdWUVRnU3ZPCmxLR3NjK2VHQU1RVEd1RC9NQW9HQ0NxR1NNNDlCQU1DQTBrQU1FWUNJUUR0dTRGMjd0bXRmUTVkYVBMYVZ3WHkKOFJHZk9vWjFQR0lqa01MOXFaSmdYUUloQUk5cHBoSm5COGtrOUxDaElhZ050MjljMG1WOG5lU3hJUzFEVEw3Kwp5K3lsCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUhKUnl1OHZsT0xVN1ltaXJYOWIrNXc4OE1IV2tlZ0RDOVNLc1RSWlQ1QmxvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFeVpVV0ZHclNHVFNQVTJFUmJHNmpEOStkTWZYY2FEanBzcFpLQ2hYUjlycmc3V09EZlJtcQpHeHZaQ2RiTy91bVBidFl4VVFHMDlrTDhtZi9LeldNZkpBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
